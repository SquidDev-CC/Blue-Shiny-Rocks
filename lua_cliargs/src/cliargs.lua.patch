--- src/cliargs.lua
+++ src/cliargs.lua
@@ -539,7 +539,9 @@
       end
     end
     -- clear table in case user holds on to module table
-    for k, _ in pairs(cli) do
+    local keys = {}
+    for k, _ in pairs(cli) do keys[k] = true end
+    for k, _ in pairs(keys) do
       cli[k] = nil
     end
   end
